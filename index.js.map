{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["const BASE_URL = 'https://pixabay.com/api/';\nconst API_KEY = '28802663-ddb0f5d28ea31cc45b363b962';\n\nexport function fetchImages(query) {\n  const params = new URLSearchParams({\n    key: API_KEY,\n    q: query,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n  });\n\n  const searchUrl = `${BASE_URL}?${params.toString()}`;\n\n  return fetch(searchUrl)\n    .then(response => {\n      if (!response.ok) {\n        throw new Error(`Error ${response.status}`);\n      }\n      return response.json();\n    })\n    .then(data => data);\n}\n","import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nlet lightbox;\n\nexport function renderGalley(images, galleryElement) {\n  const markup = images\n    .map(image => {\n      return `<li class=\"gallery-element\">\n      <a href=\"${image.largeImageURL}\" class=\"photo-card\">\n        <div class=\"image-wrapper\">\n          <img\n            class=\"gallery-image\"\n            src=\"${image.webformatURL}\"\n            alt=\"${image.tags}\"\n            loading=\"lazy\"\n          />\n        </div>\n        <div class=\"info\">\n          <p class=\"info-item\">\n            <b>Likes</b> <span class=\"photo_span\">${image.likes} </span>\n          </p>\n          <p class=\"info-item\">\n            <b>Views</b> <span class=\"photo_span\">${image.views}</span>\n          </p>\n          <p class=\"info-item\">\n            <b>Comments</b> <span class=\"photo_span\">${image.comments}</span>\n          </p>\n          <p class=\"info-item\">\n            <b>Downloads</b> <span class=\"photo_span\">${image.downloads}</span>\n          </p>\n        </div>\n      </a>\n    </li>\n        `;\n    })\n    .join('');\n\n  galleryElement.insertAdjacentHTML('beforeend', markup);\n\n  if (!lightbox) {\n    lightbox = new SimpleLightbox('.gallery a', {\n      captionData: 'alt',\n      captionDelay: 250,\n    });\n  } else {\n    lightbox.refresh();\n  }\n}\nexport function clearGallery(galleryEl) {\n  galleryEl.innerHTML = '';\n}\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport { fetchImages } from './js/pixabay-api';\nimport { clearGallery, renderGalley } from './js/render-functions';\n\nconst refs = {\n  searchForm: document.querySelector('.form'),\n  gallery: document.querySelector('.gallery'),\n  loader: document.querySelector('.loader'),\n};\n\nfunction showLoader() {\n  refs.loader.classList.remove('is-hidden');\n}\n\nfunction hideLoader() {\n  refs.loader.classList.add('is-hidden');\n}\n\nrefs.searchForm.addEventListener('submit', evt => {\n  evt.preventDefault();\n\n  const userQuery = evt.currentTarget.elements.search.value.trim();\n\n  if (!userQuery) {\n    iziToast.info({\n      title: 'No query',\n      message: 'Please enter your query',\n      position: 'topRight',\n    });\n    return;\n  }\n\n  clearGallery(refs.gallery);\n\n  showLoader();\n\n  fetchImages(userQuery, refs.gallery)\n    .then(data => {\n      if (data.hits.length === 0) {\n        iziToast.info({\n          title: 'No results',\n          message:\n            'Sorry, there are no images matching your search query. Please try again!',\n          position: 'topRight',\n        });\n        return;\n      }\n\n      renderGalley(data.hits, refs.gallery);\n    })\n    .catch(err => {\n      iziToast.error({\n        title: 'Error',\n        message: `${err.message}`,\n        position: 'topRight',\n      });\n    })\n    .finally(() => hideLoader());\n\n  refs.searchForm.reset();\n});\n"],"names":["BASE_URL","API_KEY","fetchImages","query","params","searchUrl","response","data","lightbox","renderGalley","images","galleryElement","markup","image","SimpleLightbox","clearGallery","galleryEl","refs","showLoader","hideLoader","evt","userQuery","iziToast","err"],"mappings":"6vBAAA,MAAMA,EAAW,2BACXC,EAAU,qCAET,SAASC,EAAYC,EAAO,CACjC,MAAMC,EAAS,IAAI,gBAAgB,CACjC,IAAKH,EACL,EAAGE,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EAChB,CAAG,EAEKE,EAAY,GAAGL,CAAQ,IAAII,EAAO,SAAU,CAAA,GAElD,OAAO,MAAMC,CAAS,EACnB,KAAKC,GAAY,CAChB,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAM,SAASA,EAAS,MAAM,EAAE,EAE5C,OAAOA,EAAS,MACtB,CAAK,EACA,KAAKC,GAAQA,CAAI,CACtB,CCnBA,IAAIC,EAEG,SAASC,EAAaC,EAAQC,EAAgB,CACnD,MAAMC,EAASF,EACZ,IAAIG,GACI;AAAA,iBACIA,EAAM,aAAa;AAAA;AAAA;AAAA;AAAA,mBAIjBA,EAAM,YAAY;AAAA,mBAClBA,EAAM,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oDAMuBA,EAAM,KAAK;AAAA;AAAA;AAAA,oDAGXA,EAAM,KAAK;AAAA;AAAA;AAAA,uDAGRA,EAAM,QAAQ;AAAA;AAAA;AAAA,wDAGbA,EAAM,SAAS;AAAA;AAAA;AAAA;AAAA;AAAA,SAMlE,EACA,KAAK,EAAE,EAEVF,EAAe,mBAAmB,YAAaC,CAAM,EAEhDJ,EAMHA,EAAS,QAAO,EALhBA,EAAW,IAAIM,EAAe,aAAc,CAC1C,YAAa,MACb,aAAc,GACpB,CAAK,CAIL,CACO,SAASC,EAAaC,EAAW,CACtCA,EAAU,UAAY,EACxB,CC9CA,MAAMC,EAAO,CACX,WAAY,SAAS,cAAc,OAAO,EAC1C,QAAS,SAAS,cAAc,UAAU,EAC1C,OAAQ,SAAS,cAAc,SAAS,CAC1C,EAEA,SAASC,GAAa,CACpBD,EAAK,OAAO,UAAU,OAAO,WAAW,CAC1C,CAEA,SAASE,GAAa,CACpBF,EAAK,OAAO,UAAU,IAAI,WAAW,CACvC,CAEAA,EAAK,WAAW,iBAAiB,SAAUG,GAAO,CAChDA,EAAI,eAAc,EAElB,MAAMC,EAAYD,EAAI,cAAc,SAAS,OAAO,MAAM,OAE1D,GAAI,CAACC,EAAW,CACdC,EAAS,KAAK,CACZ,MAAO,WACP,QAAS,0BACT,SAAU,UAChB,CAAK,EACD,MACD,CAEDP,EAAaE,EAAK,OAAO,EAEzBC,IAEAhB,EAAYmB,CAAuB,EAChC,KAAKd,GAAQ,CACZ,GAAIA,EAAK,KAAK,SAAW,EAAG,CAC1Be,EAAS,KAAK,CACZ,MAAO,aACP,QACE,2EACF,SAAU,UACpB,CAAS,EACD,MACD,CAEDb,EAAaF,EAAK,KAAMU,EAAK,OAAO,CAC1C,CAAK,EACA,MAAMM,GAAO,CACZD,EAAS,MAAM,CACb,MAAO,QACP,QAAS,GAAGC,EAAI,OAAO,GACvB,SAAU,UAClB,CAAO,CACP,CAAK,EACA,QAAQ,IAAMJ,EAAU,CAAE,EAE7BF,EAAK,WAAW,OAClB,CAAC"}